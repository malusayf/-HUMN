<body>

<div class="container">

  <div class="header">
    <h1>Human Lore</h1>
    <p>Your private space. No audience. No judgment.</p>
  </div>

  <section>
    <textarea
      id="loreInput"
      placeholder="Write what you cannot say out loudâ€¦"
      style="
        width: 100%;
        min-height: 180px;
        background: rgba(255,255,255,0.04);
        color: white;
        border: 1px solid rgba(255,255,255,0.15);
        padding: 1rem;
        border-radius: 8px;
        font-size: 0.95rem;
        resize: vertical;
      "
    ></textarea>

    <button
      onclick="saveLore()"
      style="
        margin-top: 1rem;
        padding: 0.6rem 1.4rem;
        background: rgba(155,92,255,0.2);
        border: 1px solid rgba(155,92,255,0.4);
        color: white;
        cursor: pointer;
        border-radius: 6px;
      "
    >
      Save Lore
    </button>
  </section>

  <section style="margin-top: 2.5rem;">
    <h2>Your Past Entries</h2>
    <div id="loreList" style="opacity: 0.8; font-size: 0.9rem;"></div>
  </section>

</div>

<script>
  const STORAGE_KEY = "human_lore_private";

  function saveLore() {
    const text = document.getElementById("loreInput").value.trim();
    if (!text) return;

    const existing = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
    existing.unshift({
      text,
      time: new Date().toISOString()
    });

    localStorage.setItem(STORAGE_KEY, JSON.stringify(existing));
    document.getElementById("loreInput").value = "";
    renderLore();
  }

  function renderLore() {
    const list = document.getElementById("loreList");
    const data = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];

    list.innerHTML = data
      .map(
        entry => `
        <div style="margin-bottom: 1.2rem; padding-bottom: 1.2rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
          <div style="opacity:0.5; font-size:0.75rem;">
            ${new Date(entry.time).toLocaleString()}
          </div>
          <div>${entry.text.replace(/\n/g, "<br>")}</div>
        </div>
      `
      )
      .join("");
  }

  renderLore();
</script>

</body>
